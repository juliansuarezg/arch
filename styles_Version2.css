:root{
  --page-width: 600px; /* initial fallback, JS will override at runtime */
  --page-height: 800px;
  --gutter: 16px;
}

html,body{
  height:100%;
  margin:0;
  font-family: "Helvetica Neue", Arial, sans-serif;
  background: #efefea;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* textured background for zine vibe */
.page-bg{
  min-height:100vh;
  padding:28px;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.35) 0%, rgba(0,0,0,0.02) 100%),
    url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
  display:flex;
  align-items:center;
  justify-content:center;
}

/* wrapper takes full available width so JS can compute two-up sizing */
.book-wrapper{
  width: calc(100% - 56px);
  max-width: 1400px;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  box-sizing: border-box;
}

/* turn.js container */
.flipbook {
  width:100%;
  height: var(--page-height);
  margin: 0 auto;
  /* prevent accidental overflow on small viewports */
  overflow: visible;
  position: relative;
}

/* single page element (will be duplicated into a spread) */
.flipbook .page {
  width: var(--page-width);
  height: var(--page-height);
  background: #faf6ee;
  box-shadow: 0 14px 30px rgba(0,0,0,0.22), inset 0 1px 0 rgba(255,255,255,0.5);
  border-radius: 6px;
  border: 1px solid rgba(0,0,0,0.06);
  overflow:hidden;
  transform-origin: left center;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  transform: rotate(calc((var(--seed, 0) - 0.5) * 1.6deg));
}

/* canvases fill page area */
.flipbook .page canvas {
  display:block;
  width:100%;
  height:100%;
  object-fit:cover;
  -webkit-filter: contrast(0.98) saturate(0.98);
}

/* small page number for zine feel */
.flipbook .page .pagenum {
  position:absolute;
  bottom:10px;
  right:12px;
  color:rgba(0,0,0,0.32);
  font-size:13px;
  font-weight:600;
  letter-spacing:0.06em;
}

/* slight opposite tilt for left pages */
.flipbook .page.left {
  transform-origin: right center;
  transform: rotate(-0.6deg);
}

/* rough/uneven edge to feel handmade */
.flipbook .page.rough-edge {
  clip-path: polygon(
    0 0, calc(100% - 8px) 0, 100% 8px, 100% calc(100% - 8px),
    calc(100% - 8px) 100%, 0 100%
  );
}

/* make sure the spread scales down cleanly if needed */
@media (max-width: 420px) {
  :root { --gutter: 12px; }
}